////////////////////////////////////////////////////////////////////////////////
// Copyright (c) 2025 Dimitry Ishenko
// Contact: dimitry (dot) ishenko (at) (gee) mail (dot) com
//
// Distributed under the GNU GPL license. See the LICENSE.md file for details.

////////////////////////////////////////////////////////////////////////////////
#ifndef AUDIO_PARAMS_HPP
#define AUDIO_PARAMS_HPP

////////////////////////////////////////////////////////////////////////////////
#include "audio++/types.hpp"
#include <memory>

struct _snd_pcm;
using snd_pcm_t = _snd_pcm;

struct _snd_pcm_hw_params;
using snd_pcm_hw_params_t = _snd_pcm_hw_params;

////////////////////////////////////////////////////////////////////////////////
namespace audio
{

////////////////////////////////////////////////////////////////////////////////
class params
{
public:
    ////////////////////
    bool test(rate) const;

private:
    ////////////////////
    snd_pcm_t* pcm_;
    std::unique_ptr<snd_pcm_hw_params_t, void(*)(snd_pcm_hw_params_t*)> params_;

    explicit params(snd_pcm_t*);
    friend class device;
};

////////////////////////////////////////////////////////////////////////////////
}

////////////////////////////////////////////////////////////////////////////////
#endif
